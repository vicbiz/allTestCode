$(document).ready(function(){0<$(".selectDateWrap").length&&($("#startDate, #endDate").datepicker(),$(".selectDateWrap button.calIcon").on("click",function(){var e=$(this).attr("data-targetInput");$(e).datepicker("show")}),$("#generateReportSubmit").on("click",function(){return e=$("#startDate").val(),a=$("#endDate").val(),""===e||""===a?($("#generateReport1 .errorMsg").html("Error : Please choose Start and End Date").removeClass("hidden"),!1):!(new Date(a).getTime()<new Date(e).getTime()&&($("#startDate").removeClass("error").addClass("error"),$("#generateReport1 .errorMsg").html("Error : Start date cannot be greater than End date").removeClass("hidden"),1));var e,a}));var d=function(e){$("#evaluationTypeId").selectpicker("destroy"),$("#evaluationTypeWrap .btn-group.select").remove(),$("#evaluationTypeWrap #evaluationTypeId").remove(),$("#evaluationTypeWrap").append('<span id="loadingData">&nbsp;&nbsp;&nbsp;Loading Data ......</span>');var a=$("#assetId").val(),t=$("#standardYearId").val(),s="";e&&(s=$.urlParam("evaluationTypeId")),$.ajax({type:"GET",url:"/evaluation/listEvaluationTypesForAssetScoreTrackingReport?assetId="+a+"&standardYearId="+t,success:function(e){for(var a='<select id="evaluationTypeId" class="fhsSelect" data-evaluationtypeid="8" name="evaluationTypeId"><option value="">Select Evaluation Type</option>',t=0;t<e.length;t++){var r="";e[t].id==s&&(r="selected='selected'"),a+='<option value="'+e[t].id+'" '+r+">"+e[t].name+"</option>"}a+="</select>",$("#loadingData").remove(),$("#evaluationTypeWrap").append(a),$("#evaluationTypeId.fhsSelect").selectpicker({style:"btn-wt form-control",menuStyle:"dropdown-inverse"}),n()}})},e=function(l){var e=$("#assetTypeId").val();$.ajax({type:"GET",url:"/asset/selectOptionsByType?assetTypeId="+e,success:function(e){var a=$.parseJSON(e),t="<select id='assetSelectTypeAhead' class='form-control input-lg select2'>",r="";l&&(r=$.urlParam("assetId"));for(var s="",n=0;n<a.length;n++)""!==a[n].id&&""!==a[n].name||a.splice(n,1),""===r?0==n?(s="selected='selected'",r=a[n].id):s="":parseInt(a[n].id)===parseInt(r)?(s="selected='selected'",r=a[n].id):s="",t+="<option "+s+" value='"+a[n].id+"'>"+a[n].name+"</option>";t+="</select>",$("#assetTypeAhead").html(t),$("#assetSelectTypeAhead").select2("destroy"),$("#assetSelectTypeAhead").select2({placeholder:"Select a Property",width:220,allowClear:!0});var o=$("#assetSelectTypeAhead").val();$("#assetId").val(o),$(".assetManageFormInput").css("display","inline-block"),$("#assetSelectTypeAhead").on("change",function(){var e=$(this).select2("data").id;$(this).select2("data").text;$("#assetId").val(e)}),d(l)}})},n=function(){var e=$("#evaluationTypeId").val();void 0!==e&&""!==e?$("#ytdEEScoresSubmit, #assetScoreTrackingSubmit").removeClass("disabled"):$("#ytdEEScoresSubmit, #assetScoreTrackingSubmit").addClass("disabled")};$("#assetId, #standardYearId").on("change",function(){d(!1),n()}),$(document).on("change","#evaluationTypeId",function(){n()}),$("#assetTypeId").on("change",function(){if("null"==$(this).val())return!1;e(!1)}),$("#internalReportPage #reportType").on("change",function(){$(".errorMsg").removeClass("hidden").addClass("hidden").html(""),""===$(this).val()?($("#generateReport1").hide(),$("#generateReport2").hide(),$("#generateReport3").hide()):"ASSET_SCORE_TRACKING"===$(this).val()?($("#generateReport1").hide(),$("#generateReport2").show(),$("#generateReport3").hide()):"RATING_REPORT"===$(this).val()?window.location.href="/report/rating":($("#generateReport1").show(),$("#generateReport2").hide())}),$("#assetScoreTrackingSubmit").on("click",function(){var e,a=(e=!1,""===$("#assetIdTypeAhead").val()?$("#selectAssetIdWrap label").removeClass("error").addClass("error"):e=!0,e?$("#selectAssetIdWrap label").removeClass("error"):$("#selectAssetIdWrap label").removeClass("error").addClass("error"),e),t=""===$("#evaluationTypeId").val()?($("#evaluationTypeWrap label").removeClass("error").addClass("error"),!1):($("#evaluationTypeWrap label").removeClass("error"),!0);return a&&t}),$("#assetIdTypeAhead").on("click",function(){$(this).select()}),n(),0<$("#assetScoreTrackingPage").length?e(!0):($("#generateReportForm").get(0).reset(),$("#assetTypeId").val()&&e(!1))});