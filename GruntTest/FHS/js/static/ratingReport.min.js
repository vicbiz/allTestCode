$(document).ready(function(){var e=function(e,t){var n=$("#filterByregion").val().replace("&","").trim();if(""===n)l.fnFilter("",e),l.fnFilter("",t);else{var a=n.split("|");-1<n.indexOf("|")?"The Americas|USA -"===n?(l.fnFilter("",e),l.fnFilter(a[1],t)):(l.fnFilter("",e),l.fnFilter("^"+a[1]+"$",t,!0,!1)):(l.fnFilter("^"+a[0]+"$",e,!0,!1),l.fnFilter("",t))}};if(0<$("#ratingReportsSearch").length){var l=$("#ratingReportsSearchTable").dataTable({sPaginationType:"full_numbers",aoColumns:[null,null,null,null,{sType:"percent"},{sType:"percent"},{sType:"percent"},null,null,null,{bSortable:!1},null,null,null,null,null,null],aaSorting:[[0,"asc"]],iDisplayLength:100});$("#noteOnly").on("change",function(){filterForNoteOnly(l,"#noteOnly",10)}),filterForNoteOnly(l,"#noteOnly",10),$("#showArchived").on("change",function(){filterArchived(l,"#showArchived",14)}),filterArchived(l,"#showArchived",14),$(document).on("change","#partnerStatus",function(){updateFilter(l,"#partnerStatus",13)}),updateFilter(l,"#partnerStatus",13),$(document).on("change","#assetGroup",function(){updateFilter(l,"#assetGroup",11)}),updateFilter(l,"#assetGroup",11),$(document).on("change","#sourceEvaluationYear",function(){updateFilter(l,"#sourceEvaluationYear",2)}),updateFilter(l,"#sourceEvaluationYear",2),$(document).on("change","#displayDate",function(){updateFilter(l,"#displayDate",3)}),updateFilter(l,"#displayDate",3),$(document).on("change","#finalRating",function(){updateFilter(l,"#finalRating",1)}),updateFilter(l,"#finalRating",1),$("#filterByregion").on("change",function(){e(15,16)}),e(15,16)}if(0<$("#ratingReportsAssetHistory").length){l=$("#assetHistoryTable").dataTable({sPaginationType:"full_numbers",oLanguage:{sEmptyTable:"Sorry, no results. Please select a different asset."},aoColumns:[null,null,null,null,null,null,{sType:"percent"},{sType:"percent"},{sType:"negative-num"},{sType:"negative-num"},{sType:"negative-num"},{sType:"percent"},null,null],aaSorting:[[1,"desc"]],iDisplayLength:100});var t=function(){var e=$("#assetTypeId").val();$.ajax({type:"GET",url:"/asset/ajaxNamesByType?searchType=ALL&assetTypeId="+e,success:function(e){for(var t=$.parseJSON(e),n="<select id='assetSelectTypeAhead' name='id' class='form-control input-lg select2'><option value=''></option>",a=$("#assetTypeAhead").attr("data-init"),l=0;l<t.length;l++)""!==t[l].id&&""!==t[l].name||t.splice(l,1),n+="<option "+(parseInt(t[l].id)===parseInt(a)?"selected='selected'":"")+" value='"+t[l].id+"'>"+t[l].name+"</option>";n+="</select>",$("#assetTypeAhead").html(n),$("#assetSelectTypeAhead").select2("destroy"),$("#assetSelectTypeAhead").select2({placeholder:"Select a Property",width:300,allowClear:!0}),$(".assetManageFormInput").css("display","inline-block"),$("#assetSelectTypeAhead").on("change",function(){var e=$(this).select2("data").id;$(this).select2("data").text;$("#assetId").val(e)})}})};if(0<$("#noteOnly").length){var n=function(){$("#noteOnly").prop("checked")?l.fnFilter("true",13):l.fnFilter("",13)};$("#noteOnly").on("change",function(){n()}),n()}0<$("#assetTypeId").length&&$("#assetTypeId").on("change",function(){if("null"==$(this).val())return $(".assetManageFormInput").css("display","none"),!1;t()}),"null"!==$("#assetTypeId").val()&&(t(),$(".assetManageFormInput").css("display","inline-block"))}if(0<$("#ratingReportsOverallHistory").length){l=$("#data").dataTable({bAutoWidth:!1,sPaginationType:"full_numbers",aoColumnDefs:[{aTargets:[-1]}],aaSorting:[[3,"asc"]],iDisplayLength:100});$(document).on("change","#assetGroup",function(){updateFilter(l,"#assetGroup",1)}),updateFilter(l,"#assetGroup",1),$(document).on("change","#mostRecent",function(){updateFilter(l,"#mostRecent",0)}),updateFilter(l,"#mostRecent",0),$(document).on("change","#showArchived",function(){filterArchived(l,"#showArchived",2)}),filterArchived(l,"#showArchived",2),$("#filterByregion").on("change",function(){e(7,8)}),e(7,8)}var a=$.urlParam("assetGroup").replace(/\+/g," ");$('#assetGroup option[value="'+a+'"]').prop("selected",!0).change()});