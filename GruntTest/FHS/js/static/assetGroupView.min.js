$(document).ready(function(){var a=$("#assetViewTable").dataTable({sPaginationType:"full_numbers",aaSorting:[[1,"asc"]],iDisplayLength:1e6}),e=($("#assetGroupUserTable").dataTable({sPaginationType:"full_numbers",aaSorting:[[1,"asc"],[2,"asc"]],iDisplayLength:1e6,aoColumnDefs:[{bSortable:!1,aTargets:[0]}]}),function(e,s){e?a.fnFilter(e,s):(a.fnFilter("",s),a.fnFilter(""))});$("#assetType").on("change",function(){e($("#assetType").val(),2)}),e($("#corpDataType").val(),2);var s=function(){$("button#standardYear").addClass("disabled");var e=$("#standardYear").val(),s=$("#showArchived").prop("checked");$("#gsrpOnly").prop("checked")?($("button#standardYear").removeClass("disabled"),a.fnFilter("^[0-9a-zA-Z]",0,!0,!1,!0,!0),""!==e&&a.fnFilter(e,0)):a.fnFilter("",0),s?a.fnFilter("",3):a.fnFilter("false",3)};$("#gsrpOnly, #standardYear, #showArchived").on("change",function(){s()}),s();var r=function(){0<$("#assetGroupUserTable .selsectUserChkBx:checked").length?$("#sendEmailToUsersBtn").removeClass("disabled"):$("#sendEmailToUsersBtn").removeClass("disabled").addClass("disabled")};$("#assetGroupUserTable input").on("click",function(){r()}),$("#assetGroupUserTable #all").on("click",function(){$(this).prop("checked")?$("#assetGroupUserTable .selsectUserChkBx").prop("checked",!0):$("#assetGroupUserTable .selsectUserChkBx").prop("checked",!1),r()}),$("#assetGroupUserTable .selsectUserChkBx").on("click",function(){$("#assetGroupUserTable .selsectUserChkBx").length===$("#assetGroupUserTable .selsectUserChkBx:checked").length?$("#assetGroupUserTable #all").prop("checked",!0):$("#assetGroupUserTable #all").prop("checked",!1)}),r(),$("#sendEmailToUsersBtn").on("click",function(){if(0===$("#assetGroupUserTable .selsectUserChkBx:checked").length)return!1;$(this);var e="mailto:";$("#assetGroupUserTable .selsectUserChkBx:checked").each(function(){e+=$(this).attr("data-email")+";"}),location.href=e});var t=null,n=$(".se-pre-con").attr("data-userid"),l=function(){$.ajax({type:"GET",url:"/corporateReport/checkAggregationStatus?taskId="+n,success:function(e){"true"===e?$(".se-pre-con").is(":visible")&&($(".se-pre-con").hide(),clearInterval(t),location.reload()):$(".se-pre-con").show()}})};t=setInterval(function(){l()},5e3),l(),$(".errorMsg").on("click",function(e){return!!confirm("Are you sure?")})});