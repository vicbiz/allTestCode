$(document).ready(function(){var e=function(e){var t=$("#yearId").find("option:selected").val(),a="";e&&(a=parseInt($("#evaluationTypeId").attr("data-selected"))),$.ajax({type:"GET",url:"/CMS/ajaxEvaluationTypesByYear?y="+t,success:function(e){var t='<option value="null">Select Evaluation Type</option>';$.each(e,function(){a===this.id?t+='<option value="'+this.id+'" selected="selected" >'+this.name+"</option>":t+='<option value="'+this.id+'">'+this.name+"</option>"}),$("#evaluationTypeId").html(t),$("#evaluationTypeIdWrap").removeClass("hidden")}})},t=function(e){$(e+" option").removeAttr("selected"),$(e+" option[value='null']").attr("selected","selected"),$(e).selectpicker("render")};$("#yearId").on("change",function(){e(!1),t("#evaluationTypeId"),t("#assetTypeId"),0<$("#sectionIdWrap").length&&t("#sectionId")}),$("#evaluationTypeId").on("change",function(){t("#assetTypeId"),0<$("#sectionIdWrap").length&&t("#sectionId"),0<$("#classificationId").length&&t("#classificationId"),$("#assetTypesWrap").removeClass("hidden"),"null"===$("#evaluationTypeId").find("option:selected").val()?($("#assetTypesWrap").addClass("hidden"),0<$("#sectionIdWrap").length&&$("#sectionIdWrap").addClass("hidden"),$(".submitBtn").addClass("hidden")):$("#assetTypesWrap").removeClass("hidden")});var a=function(e){var t=$("#evaluationTypeId").find("option:selected").val(),a=$("#assetTypeId").find("option:selected").val();e&&"0"!==$("#evaluationTypeId").attr("data-selected")&&(t=parseInt($("#evaluationTypeId").attr("data-selected")));var n=parseInt($("#sectionId").attr("data-selected"));$.ajax({type:"GET",url:"/CMS/ajaxSectionsByEvaluationTypeAndAssetType?et="+t+"&at="+a,success:function(e){var t='<option value="null">Select Section</option>';t+=-1===n?'<option value="-1" selected="selected">All</option>':'<option value="-1">All</option>',$.each(e,function(){n===this.id?t+='<option value="'+this.id+'" selected="selected" >'+this.name+"</option>":t+='<option value="'+this.id+'">'+this.name+"</option>"}),$("#sectionId").html(t),"null"===$("#assetTypeId").find("option:selected").val()?($("#sectionIdWrap").addClass("hidden"),$(".submitBtn").addClass("hidden")):$("#sectionIdWrap").removeClass("hidden")}})};if($("#assetTypeId").on("change",function(){0<$("#sectionIdWrap").length&&(a(!1),t("#sectionId"))}),0<$("#submittedEvaluationsReport").length&&$("#sectionId").on("change",function(){$(".submitBtn").removeClass("hidden"),$(".tableWrap > div").is(":visible")&&$(".tableWrap > div").removeClass("hidden")}),(0<$("#sectionListForm").length||0<$("#classificationListForm").length)&&$("#assetTypeId").on("change",function(){$(".submitBtn").removeClass("hidden"),$(".tableWrap > div").is(":visible")&&$(".tableWrap > div").removeClass("hidden")}),"null"!==$("#yearId").find("option:selected").val()&&(e(!0),0<$("#sectionIdWrap").length&&a(!0)),0<$("#data").length){var n=$("#data").dataTable({sPaginationType:"full_numbers",iDisplayLength:25,bSort:!1});function i(a){$.each([6,7,8,10],function(e,t){t!=a&&n.fnFilter("",t)})}n.fnFilter("false",9),$("#classification").on("change",function(){var e=$(this).val();n.fnFilter(e,5)}),$("#filter").on("change",function(){switch($(this).val()){case"Facility Standards":n.fnFilter("true",6),i(6);break;case"Client-Facing":n.fnFilter("true",7),i(7);break;case"Non Client-Facing":n.fnFilter("false",7),i(7);break;case"Core Standards":n.fnFilter("true",8),i(8);break;case"Not Core Standards":n.fnFilter("false",8),i(8);break;case"Auto-fill for YES":n.fnFilter("true",10),i(10);break;case"No Auto-fill for YES":n.fnFilter("false",10),i(10);break;default:i()}}),$("#archived").on("change",function(){var e=$(this).attr("checked")?"true":"false";n.fnFilter(e,9)})}});