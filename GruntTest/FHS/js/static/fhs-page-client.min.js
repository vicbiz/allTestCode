var maxMySelection=15;$(document).ready(function(){if(0===$("#reportApp").length&&0<$("#assetTable, #classificationTable").length)$("#assetTable, #classificationTable").dataTable({sPaginationType:"full_numbers",aoColumnDefs:[{bSortable:!1,aTargets:[]}],aaSorting:[[0,"asc"]],sDom:'<"H"f>rt',iDisplayLength:1e5});if(0<$(".helpIcon").length&&$(".helpIcon:not(.disabled)").click(function(e){e.preventDefault();var a=$($(this).attr("data-helpContent")).html();e.stopImmediatePropagation(),fhsAlert("myModal","Help",a,"","CLOSE",function(e){})}),0<$("#achievedMissed").length){var e=$("#achievedMissed").attr("data-data");"[, , ]"===e&&(e="[]");var a=JSON.parse(e),t=0;$(a).map(function(){t+=this[1]});var r=$.makeArray($(a).map(function(){return this[1]+" ("+Math.round(this[1]/t*100)+"%)"})),n=["#43AFC1","#D12824","#A4A4A4"],i=jQuery.jqplot("pieChart",[a],{seriesDefaults:{shadow:!1,renderer:jQuery.jqplot.PieRenderer,rendererOptions:{showDataLabels:!0,highlightMouseOver:!0,startAngle:90,dataLabels:r}},animate:!0,grid:{borderColor:"#ffffff",shadow:!1,drawBorder:!0,background:"#ffffff"},seriesColors:n,legend:{show:!1,location:"e"}});0===$("#reportApp").length?($("#pieChart").bind("jqplotDataHighlight",function(e,a,t,r){var n=parseInt(t)+2;$("#pieChart div.jqplot-pie-series").css("display","none"),$("#pieChart div.jqplot-pie-series:nth-of-type("+n+")").css("display","block")}),$("#pieChart").bind("jqplotDataUnhighlight",function(e,a,t,r){$("#pieChart div.jqplot-pie-series").css("display","none")})):$("#pieChart div.jqplot-pie-series").css("display","block"),$("#achievedMissed .keyColor0").css("background",n[0]),$("#achievedMissed .keyColor1").css("background",n[1]),$("#achievedMissed .keyColor2").css("background",n[2]),$(window).resize(function(){i.replot({resetAxes:!0})})}if(0===$("#reportApp").length&&0<$("#basicStandardsModule").length)$("#basicStandardsModule").dataTable({sPaginationType:"full_numbers",aoColumnDefs:[{bSortable:!1,aTargets:[]}],aoColumns:[null,null,null,{sType:"percent"}],aaSorting:[],sDom:'<"H"f>rt',bFilter:!1,bInfo:!1,iDisplayLength:1e5});if(0===$("#reportApp").length&&0<$("#ytdClassificationAvgsModule").length)$("#ytdClassificationAvgsModule").dataTable({sPaginationType:"full_numbers",aoColumnDefs:[{bSortable:!1,aTargets:[]}],aoColumns:[null,{sType:"percent"},{sType:"percent"}],aaSorting:[],sDom:'<"H"f>rt',bFilter:!1,bInfo:!1,iDisplayLength:1e5});if(0===$("#reportApp").length&&0<$("#accountabilityModule").length)$("#accountabilityModule").dataTable({sPaginationType:"full_numbers",aoColumnDefs:[{bSortable:!1,aTargets:[0,1]}],sDom:'<"H"f>rt',bFilter:!1,bInfo:!1,iDisplayLength:1e5,aoColumns:[{sWidth:"70%"},{sWidth:"30%"}]});if(0===$("#reportApp").length&&0<$("#scoreDetailsSection").length)$("#scoreDetailsSection").dataTable({sPaginationType:"full_numbers",aoColumnDefs:[{bSortable:!1,aTargets:[2,4]}],aoColumns:[null,{sType:"percent"},null,{sType:"percent"},null,{sType:"numeric-comma"}],aaSorting:[],sDom:'<"H"f>rt',bFilter:!1,bInfo:!1,iDisplayLength:1e5});if(0===$("#reportApp").length&&0<$("#scoreDetailsSectionBrand").length)$("#scoreDetailsSectionBrand").dataTable({sPaginationType:"full_numbers",aoColumnDefs:[{bSortable:!1,aTargets:[2]}],aoColumns:[null,{sType:"percent"},null,{sType:"numeric-comma"}],aaSorting:[],sDom:'<"H"f>rt',bFilter:!1,bInfo:!1,iDisplayLength:1e5});if(0===$("#reportApp").length&&0<$("#scoreDetailsClassification").length)$("#scoreDetailsClassification").dataTable({sPaginationType:"full_numbers",aoColumnDefs:[{bSortable:!1,aTargets:[2,4]}],aoColumns:[null,{sType:"percent"},null,null,null,{sType:"numeric-comma"}],aaSorting:[[0,"asc"]],sDom:'<"H"f>rt',bFilter:!1,bInfo:!1,iDisplayLength:1e5});if(0===$("#reportApp").length&&0<$("#scoreDetailsEE").length)$("#scoreDetailsEETable").dataTable({sPaginationType:"full_numbers",aoColumnDefs:[{bSortable:!1,aTargets:[]}],aaSorting:[],sDom:'<"H"f>rt',bFilter:!1,bInfo:!1,iDisplayLength:1e5,aoColumns:[{sType:"overallFirst"},{sType:"percent"},{sType:"numeric-comma"}]});if(0===$("#reportApp").length&&0<$("#serviceComparisonOverallTable").length){var o=[null,{sType:"percent"},{sType:"percent"},{sType:"percent"},{sType:"percent"}];"spa"===$("#serviceComparisonOverallTable").attr("data-assetType")&&(o=[null,{sType:"percent"},{sType:"percent"},{sType:"percent"}]);$("#serviceComparisonOverallTable").dataTable({sPaginationType:"full_numbers",aoColumnDefs:[{bSortable:!1,aTargets:[]}],aoColumns:o,aaSorting:[],sDom:'<"H"f>rt',bFilter:!1,bInfo:!1,iDisplayLength:1e5})}if(0<$(".tabToggleBlock .tabMenu").length&&$(".tabToggleBlock .tabMenu").on("click",function(e){var a=$(this);if(e.preventDefault(),a.hasClass("selected"))return!0;$(this).parent().find(".tabMenu").removeClass("selected"),a.addClass("selected");var t="#"+a.attr("data-tabId");$(t).siblings().removeClass("hidden").addClass("hidden"),$(t).removeClass("hidden")}),0===$("#reportApp").length&&0<$("#scoreDetailsTabBlock .tabMenu").length&&$("#scoreDetailsTabBlock .tabMenu").on("click",function(e){var a=$(this);if(e.preventDefault(),a.hasClass("selected"))return!0;$("#scoreDetailsTabBlock .tabMenu").removeClass("selected"),a.addClass("selected");var t="#"+a.attr("data-tabId");$("#scoreDetailsTabBlock").parent().find("table").removeClass("hidden").addClass("hidden"),"#scoreDetailsEE"===t?($("#scoreDetailsEE table.dataTable").removeClass("hidden"),$("#scoreDetailsEE").removeClass("hidden")):($("#scoreDetailsEE").removeClass("hidden").addClass("hidden"),$(t).removeClass("hidden")),"#scoreDetailsClassification"===t?$("#highImpactHelp").removeClass("hidden"):$("#highImpactHelp").addClass("hidden")}),0<$("canvas.cvs").length){function p(e,a){var t=!1;e.hasClass("barGraphLarge")&&(t=!0);var r=e.attr("data-low"),n=e.attr("data-high");void 0===r&&(r=0),void 0===n&&(n=0);var i=e.attr("data-percentage");e.attr("data-pct",i);var o,s=(o=i,!(!isNaN(parseFloat(o))&&isFinite(o)));!s&&(i<0||100<i)&&(s=!0);var l=e;if(l.clear=!0,(l=e[0]).getContext){var c=l.getContext("2d");c.clearRect(0,0,l.width,l.height),c.fillStyle=t?"rgb(191, 191, 191)":"rgb(238, 238, 238)",c.fillRect(0,0,l.width,l.height);var d=Math.round(l.width/100);if(s){c.fillStyle="rgb(255,0,0)",c.fillRect(0,0,l.width,l.height),c.font="bold 30px sans-serif",c.fillStyle="rgb(255,255,255)",c.textBaseline="middle"}else{for(var h=0;h<=i;h++){c.fillStyle="rgb(85, 189, 202)";var p=Math.round(h*l.width/100)-d;c.fillRect(p,0,d,l.height)}}var f=10;if(300<a&&(f=7),t){var u=Math.round(r*l.width/100)-d,g=Math.round(n*l.width/100)-d;u+=.5,g+=.5,c.strokeStyle="rgba(255, 255, 255, 1)",c.lineWidth=1,c.beginPath(),c.moveTo(u,0),c.lineTo(u,l.height),c.stroke(),c.strokeStyle="rgba(151, 108, 250, 1)",c.lineWidth=1,c.beginPath(),c.moveTo(g,0),c.lineTo(g,l.height),c.stroke()}else!function(e,a,t,r,n,i,o,s,l){void 0===s&&(s=!0),void 0===i&&(i=5);var c=e.globalCompositeOperation,d=e.fillStyle;e.globalCompositeOperation="destination-out",e.fillStyle="rgba(0,0,0,1.0)",e.beginPath(),e.moveTo(a,t+i),e.quadraticCurveTo(a,t,a+i,t),e.lineTo(a,t),e.lineTo(a,t+i),e.closePath(),e.fill(),e.beginPath(),e.moveTo(a,t+n-i),e.quadraticCurveTo(a,t+n,a+i,t+n),e.lineTo(a,t+n),e.lineTo(a,t+n-i),e.closePath(),e.fill(),e.beginPath(),e.moveTo(a+r-i,t),e.quadraticCurveTo(a+r,t,a+r,t+i),e.lineTo(a+r,t),e.lineTo(a+r-i,t),e.closePath(),e.fill(),e.beginPath(),e.moveTo(a+r,t+n-i),e.quadraticCurveTo(a+r,t+n,a+r-i,t+n),e.lineTo(a+r,t+n),e.lineTo(a+r,t+n-i),e.closePath(),e.fill(),e.fillStyle=d,e.globalCompositeOperation=c,e.beginPath(),e.moveTo(a+i,t),e.lineTo(a+r-i,t),e.quadraticCurveTo(a+r,t,a+r,t+i),e.lineTo(a+r,t+n-i),e.quadraticCurveTo(a+r,t+n,a+r-i,t+n),e.lineTo(a+i,t+n),e.quadraticCurveTo(a,t+n,a,t+n-i),e.lineTo(a,t+i),e.quadraticCurveTo(a,t,a+i,t),e.closePath(),s&&e.stroke(),o&&e.fill()}(c,0,0,l.width,l.height,f,"",!1)}}var s,l=function(){var a=0;$(".barGraph canvas.cvs").addClass("hidden"),$(".barGraph canvas.cvs").each(function(){var e=$(this);e.parent().width()>a&&(a=e.parent().width())}),$(".barGraph canvas.cvs").each(function(){var e=$(this);e.css("width",a),e.css("height",15),p(e,a),$(".barGraph canvas.cvs").removeClass("hidden")}),0<$(".cpAvgBarModule .barGraphLargeWrap canvas").length&&$(".barGraphLargeWrap canvas.cvs").each(function(){var e=$(this);e.css("width",$(this).width()),e.css("height",$(this).height()),p(e,$(this).width());var a=$(this).attr("data-percent");a=a.replace("%",""),"NaN%"===(a=parseFloat(a)+"%")&&(a="");var t=$(this).attr("data-text"),r="";if(""===a&&(t=""),void 0!==a){var n="positive";void 0!==a&&-1<a.lastIndexOf("-")&&(n="negative"),r+='<span class="'+n+'">'+a+"</span>"}if(void 0!==t&&(r+='<br/><span class="barTextInfo">'+t+"</span>"),""!==r&&(r='<span class="barInfo">'+r+"</span>"),0<$("#reportApp").length){var i=$(this).parent().find(".barInfo");i.find(".barValInfo").addClass(n),i.find(".barValInfo").text(a),i.find(".barTextInfo").text(t)}else $(this).parent().find(".barInfo").remove(),$(this).parent().append(r);$(".barGraph canvas.cvs").removeClass("hidden");var o=$(this).attr("data-low"),s=$(this).attr("data-high"),l=$(this).attr("data-lowName"),c=$(this).attr("data-highName"),d=($(this).attr("data-percentage"),$(".cpAvgBarModule .plusLink a").attr("href"));if((""!==s||""!==o)&&0===$("#reportApp").length){var h='<div class="cpAvgToolText">Highest : '+c+" ("+s+"%) <br/> Lowest : "+l+" ("+o+'%) <br/><br/><a href="'+d+'" class="tooltipLink">View Details</a></div>';$(this).hasClass("tooltipstered")||$(this).tooltipster({content:h,contentAsHTML:!0,animation:"grow",speed:200,delay:100,touchDevices:!1,maxWidth:500,interactive:!0,trigger:"hover"})}})};function c(){l()}l(),$("td.barGraph").on("mouseenter",function(){var e=$(this).find("canvas"),a=parseInt(.45*e.width()),t=e.attr("data-percentage");$("td.barGraph .barHoverData").remove(),e.parent().prepend("<div class='barHoverDataWrap'><p class='barHoverData' style='left:"+a+"px'>"+t+"%</p></div>")}),$("td.barGraph").on("mouseleave",function(){$("td.barGraph .barHoverData").remove()}),$(window).resize(function(){clearTimeout(s),s=setTimeout(c,500)})}if(0<$(".addCountToList li").length){$listAry=[],$(".addCountToList li").each(function(){$(this).attr("data-data",$(this).text()),$listAry.push($(this).text())}),$.extend({distinct:function(e){var t=[];return $.each(e,function(e,a){-1==$.inArray(a,t)&&t.push(a)}),t}});var d=$.distinct($listAry);$.each(d,function(e,a){1<$(".addCountToList li[data-data='"+a+"']").length&&$(".addCountToList li[data-data='"+a+"']").each(function(e){var a=e+1;$(this).text($(this).text()+"("+a+")")})})}var h=function(){$(".barGraphChart").each(function(){!function(e,a){if(void 0!==e){var t=!1,r="7pt";(a.hasClass("benchMarkBarGraphChart")||a.hasClass("cpBarchart")||a.hasClass("cpBrandBarchart")||a.hasClass("corpBarchart"))&&(t=!0,r="7pt");var n=$("#"+e),i=n.attr("data-label");void 0!==i&&"[, , , ]"!==i||(i="[]");var o=JSON.parse(i);$.each(o,function(e,a){o[e]=a.replace("\n","<br/>")});var s=n.attr("data-data").replace(/ /g,"").replace(/N\/A/g,"0").replace(/null/g,"0").replace(/&quot;/g,'"');void 0!==s&&"[]"!==s.replace(/,/g,"")||(s="[-1]");var l=JSON.parse(s);if(a.hasClass("corpBarchart")&&l.length<maxMySelection)for(var c=0;maxMySelection-l.length;c++)o.push(""),l.push("");var d=[];for(c=0;c<l.length;c++)l[c]?d.push({evaluation:o[c],score:l[c].toString()}):d.push({evaluation:o[c],score:""});var h=["#55BDCA"],p="";a.hasClass("cpBarchart")?h=["#55BDCA","#868686"]:a.hasClass("cpBrandBarchart")?h=["#55BDCA"]:a.hasClass("benchMarkBarGraphChart")?(p="benchMark",h=["#55BDCA","#cccccc","#868686"]):a.hasClass("corpBarchart")&&(h=["#868686"]),h=function(e,a){if("benchMark"===e)for(var t=a.length;t<100;t+=2)a[t]="#cccccc",a[t+1]="#868686";else for(t=a.length;t<100;t++)a[t]="#cccccc";return a}(p,h);var f=!1,u=!0,g="n",b=3;0===$("#reportApp").length&&(u=!(f=!0),g="s",b=12),$.jqplot(e,[l]).destroy(),$.jqplot(e,[l],{animate:!0,animateReplot:!0,series:[{renderer:$.jqplot.BarRenderer}],seriesColors:h,width:300,height:300,seriesDefaults:{renderer:$.jqplot.BarRenderer,shadow:!1,pointLabels:{show:u,edgeTolerance:-200,location:g,fontSize:r,formatString:"%s%%",ypadding:b},rendererOptions:{varyBarColor:!0}},axesDefaults:{tickRenderer:$.jqplot.CanvasAxisTickRenderer,tickOptions:{fontSize:r,formatString:"%s%%"}},highlighter:{show:f,sizeAdjust:7.5,tooltipLocation:"n",showMarker:!1,tooltipContentEditor:function(e,a,t,r){return"<b>"+d[t].evaluation+"</b><br/>Scores: "+r.data[a][t]+"%"}},grid:{borderColor:"#ffffff",shadow:!1,drawBorder:!0,background:"#ffffff"},axes:{xaxis:{renderer:$.jqplot.CategoryAxisRenderer,ticks:o,tickRenderer:$.jqplot.CanvasAxisTickRenderer,tickOptions:{showGridline:!1}},yaxis:{ticks:["0","25","50","75","100","105"],tickOptions:{formatter:function(e,a){return a+"%"}}}},canvasOverlay:{show:!0,objects:[{horizontalLine:{y:0,color:"#cccccc",lineWidth:4,shadow:!1,show:!0}},{horizontalLine:{y:l[0],color:"#55BDCA",lineWidth:1,shadow:!1,show:t}}]}})}}($(this).attr("id"),$(this))})},f=function(){var e=$("#cpHighLowBttn input[name=cpGroup]:checked").val();$(".cpTab").hide(),$("#"+e).show(),h()};if(0<$(".barGraphChart").length&&(0<$("#cpCompletePDF").length&&$(".barGraphChart").each(function(e){$(this).attr("id",$(this).attr("id")+"_"+e)}),h(),0<$("#cpHighLowBttn").length&&($("#cpHighLowBttn input").on("click",function(){f()}),f()),$(window).resize(function(){h()})),0<$(".lineGraphChart").length||0<$(".eeColors").length){var I=function(e){for(var a=0,t=0;t<e.length;t++)a+=e[t][1];return 0===a&&(e=[[null]]),e},M=function(e,a){0<a.length&&(e[0][0]?(a.removeClass("disabled"),a.find(".fui-check").addClass("checked")):(a.addClass("disabled"),a.find(".fui-check").removeClass("checked")))},E=["-5","0","25","50","75","100","105"],P=["#159FEB","#850086","#cccccc","#cccccc","#cccccc","#cccccc","#cccccc","#cccccc","#cccccc","#cccccc"],q=["#FB0016","#D8551E","#84CA42","#16A541"],H=["#fd817a","#eba77a","#bfe37d","#88d08f"],F=["#AF000B","#F1803C","#FDB11D","#8AD800","#428642"],G=["#c85150","#f6a974","#fecb4f","#ace54f","#4baa4b"],N=["MOST NEGATIVE","SOMEWHAT NEGATIVE","SOMEWHAT POSITIVE","MOST POSITIVE"];0<$(".eeColors").length&&$(".eeColors").each(function(){var e=$(this);e.hasClass("eeType2015")&&(q=F,H=G);var t="";$.each(q,function(e){var a=e+1;t+='<span class="eeBox ee'+a+'" style="background:'+q[e]+'">&nbsp;</span>',$(".dataTable .ee"+a).css("background",q[e])}),e.find(".chartText.negative").after(t)}),$(".colorBgTable").each(function(){var t=$(this);t.hasClass("eeType2015")&&(q=F,H=G),$.each(q,function(e){var a=e+1;t.find(".ee"+a).css("background",q[e])})}),$(".lineGraphChart").each(function(){var e=$(this),a=$(this).attr("data-targetId");e.hasClass("eeType2015")&&(q=F,H=G,N=["MOST NEGATIVE","SOMEWHAT NEGATIVE","NEUTRAL","POSITIVE","MOST POSITIVE"]);var t=e.find(".chart-key");if(0===t.find("li").length){var r="<li>";$.each(q,function(e){r+='<span class="keyLineColor'+e+'" style="background:'+q[e]+'">&nbsp;</span>'+N[e].replace(" ","&nbsp;")+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"}),r+="</li>",t.append(r)}var n=function(e,a){var t=e.attr(a);return void 0!==t&&"[, , , ]"!==t&&""!==t||(t='[["",0]]'),I($.parseJSON(t))},i=n(e,"data-data-01"),o=n(e,"data-data-02"),s=n(e,"data-data-03");M(i,$("#ytdCheckLeft  .legendServiceCheckbox")),M(o,$("#ytdCheckRight .legendServiceCheckbox"));var l=[],c=n(e,"data-lines"),d=c.length,h=E[0],p=E[E.length-1],f=!0;1===d&&null===c[0][0]&&(f=!1);var u=!0,g="#ffffff",b=[];if(f)for(var v=0;v<=d;v++){u=!1;var C=h,m=c[v];0<v&&(C=c[v-1]),v===d&&(m=p),b.push({rectangle:{ymin:C,ymax:m,color:H[v],tooltipFormatString:N[v],xminOffset:"0px",xmaxOffset:"0px",yminOffset:"0px",ymaxOffset:"0px",showTooltip:!0,tooltipLocation:"e"}}),l=b,g="#eeeeee",P[0]="#3D3D3D"}else u=!0;var T=[],y=-45,k="",D="";if(e.hasClass("eeTimeLineChart")){y=-45;var S=function(e){var a=N.length-1,t="",r=parseInt(c[0]),n=parseInt(c[c.length-1]);if(e<=r&&(t=N[0]),n<e&&(t=N[a]),""===t)for(var i=1;i<a;i++)e>parseInt(c[i-1])&&e<=parseInt(c[i])&&(t=N[i]);return t},w=0,x=0;null!==s[0][0]&&(w=parseInt(s[0][1]),x=parseInt(s[1][1]));k=S(w)+"<br/><br/><div class='prePostHoverText'>"+$(this).attr("data-pretext")+"</div>",D=S(x)+"<br/><br/><div class='prePostHoverText'>"+$(this).attr("data-posttext")+"</div>";var A=!1;0<$("#reportApp").length&&(A=!0,$.each(o,function(e,a){"null"===a[[1]]&&(a[[1]]=null)})),T=[{},{renderer:$.jqplot.LineRenderer,color:"#2E2E2E",breakOnNull:A,rendererOptions:{barPadding:-30,barWidth:30,varyBarColor:!1}},{renderer:$.jqplot.LineRenderer,color:"#ffffff",lineWidth:1,markerOptions:{style:"filledSquare",size:10},sdata:["a","b"]}]}$.jqplot.config.enablePlugins=!0;var B=$.jqplot(a,[i,o,s],{title:"",animate:!0,animateReplot:!0,series:T,seriesDefaults:{shadow:!1,lineWidth:1,pointLabels:{show:!1,howMarker:!1,location:"s",fontSize:"30pt",ypadding:12},rendererOptions:{smooth:!1,varyBarColor:!0},markerRenderer:$.jqplot.MarkerRenderer,markerOptions:{show:!0,style:"filledCircle",size:10}},highlighter:{tooltipContentEditor:function(e,a,t){var r=B.data[a][t][0];return 2===a&&0===t&&""!==k?"<center>"+r+"<br/><b>"+k+"</b></center>":2===a&&1===t&&""!==D?"<center>"+r+"<br/><b>"+D+"</b></center>":"<center>"+r+"<br/>"+e+"</center>"},show:!0,sizeAdjust:7.5,tooltipLocation:"n",useAxesFormatters:!0,tooltipAxes:"y",showMarker:!1},legend:{show:!1},axesDefaults:{tickRenderer:$.jqplot.CanvasAxisTickRenderer,drawBaseline:!1,tickOptions:{fontSize:"10pt"}},axes:{xaxis:{renderer:$.jqplot.CategoryAxisRenderer,tickRenderer:$.jqplot.CanvasAxisTickRenderer,tickOptions:{angle:y,showGridline:!1}},yaxis:{ticks:E,tickOptions:{formatter:function(e,a){return a+"%"},showGridline:u}}},seriesColors:P,grid:{borderColor:g,shadow:!1,drawBorder:!0,background:"#ffffff"},canvasOverlay:{show:!0,objects:l}});if($(window).resize(function(){B.replot({resetAxes:!0})}),(0<$("#ytdSectionFacility").length||0<$("#ytdOverall").length)&&($(".legendService").css("background",P[0]),$(".legendFacility").css("background",P[1]),$(".legendServiceCheckbox").on("click",function(){if(!$(this).hasClass("disabled")){var e=$(this).attr("data-idx"),a=B;a.series[e].show=!a.series[e].show,a.animateReplot=!1,a.redraw(),a.series[e].show?$(this).find(".fui-check").removeClass("checked").addClass("checked"):$(this).find(".fui-check").removeClass("checked")}})),0<$("#ytdSectionFacility").length){var O=function(e){var a=e.find("option:selected").attr("data-data-01"),t=e.find("option:selected").attr("data-data-02");void 0!==a&&"[, , , ]"!==a&&""!==a||(a="[]");var r=$.parseJSON(a);void 0!==t&&"[, , , ]"!==t&&""!==t||(t="[]");var n=$.parseJSON(t);r=I(r),n=I(n),M(r,$("#ytdCheckLeft  .legendServiceCheckbox")),M(n,$("#ytdCheckRight .legendServiceCheckbox"));var i=[r,n];B.replot({data:i})},L=function(){var e=$("#ytdDropDown select"),a=$("option:selected").attr("data-data-03"),t=e.attr("data-evalId"),r=$("option:selected").text(),n=$.urlParam("type");"SECTIONS"===n&&(a="&sectionId="+a),"CLASSIFICATIONS"===n&&(a="&classificationId="+a);var i="/report/generatePDFReport/"+t+"?templateName=yearToDate&type="+n+"&stream=true"+a;if(0<$("#ytdSectionFacility.eeYTDSection").length)i="/report/generatePDFReport/"+t+"?templateName=eeYearToDate&type="+n+"&stream=true"+a;$("#pdfLinks .pdfLinkContent .selectedYTDSectionName").text(r),$("#pdfLinks .pdfLinkContent a.selectedYTDSectionLink").attr("href",i)};L(),$("#ytdDropDown select").on("change",function(){O($(this)),L()}),O($("#ytdDropDown select"))}})}0===$("#reportApp").length&&0<$(".fhsDTable").length&&$(".fhsDTable").each(function(){var e=$(this).attr("id");!function(e){var a=[],t=!1,r=1e5,n='<"H"f>rt';"show"===e.attr("data-search")&&(t=!0),void 0!==e.attr("data-pagination")&&"true"===e.attr("data-pagination").toLowerCase()&&(n='<"H"f>prt'),void 0!==e.attr("data-maxct")&&""!==e.attr("data-maxct")&&(r=parseInt(e.attr("data-maxct"))),e.find("tr:nth-child(1) th").each(function(){var e=$(this).attr("data-stype");void 0===e||""===e?a.push(null):a.push({sType:e})});$(e).dataTable({sPaginationType:"full_numbers",aoColumnDefs:[{bSortable:!1,aTargets:[]}],aoColumns:a,aaSorting:[],sDom:n,bFilter:t,bInfo:!1,iDisplayLength:r})}($("#"+e))}),0<$("#reportApp").length&&0<$(".fhsDTable").length&&$(".fhsDTable").each(function(){var e=$(this),a=parseInt(e.attr("data-maxColumn")),t=e.find("tr:nth-child(1) td").length,r=t%a;if(a<t){var n=Math.floor(t/a)-1;0===n&&(n=1);for(var i=1;i<=n;i++){var o=e.clone();o.find("td, th").hide();for(var s=a*i+1,l=s+a,c=s;c<=l;c++)o.find("td:nth-child("+c+"), th:nth-child("+c+")").show();i===n&&r<=a/2&&0<r&&o.addClass("autoTable"),o.appendTo(e.parent())}e.find("td, th").hide();for(c=0;c<=a;c++)e.find("td:nth-child("+c+"), th:nth-child("+c+")").show()}});var u=window.location.href;if(0<u.toLowerCase().indexOf("/dashboard")&&"true"===$.urlParam("plaqueSubmitted")){fhsAlert("myModal","Plaque Request Submitted","<p>Thank you! <br/>Your plaque request has been submitted.<br/><br/>You will receive a confirmation email shortly from <br/>notification@reports.forbestravelguide.com.<br/><br/>When you close this message, you will be redirected to the<br/>Forbes Travel Guide Brand Store, <br/>where you can find custom-label bottled water, crystal stars, flags and much more.</p>","","CLOSE",function(e){var a=u.replace(/&?((plaqueSubmitted))=[^&]*/gi,"");history.pushState(null,null,a),window.open("https://store.forbestravelguide.com/","_blank")})}if(0<$("#cpListOpenCloseWrap").length){var g=function(e){"close"==e&&$("#cpSlideListDiv").slideUp(function(){$("#cpSlideHeader").removeClass("bdrBottom"),$("#cpListOpenCloseTxt").text("Open List"),$("#cpListOpenClose").text("+")}),"open"==e&&($("#cpSlideHeader").addClass("bdrBottom"),$("#cpSlideListDiv").slideDown(function(){$("#cpListOpenCloseTxt").text("Close List"),$("#cpListOpenClose").text("-")}))};$("#cpListOpenCloseWrap").unbind("click").bind("click",function(e){$("#cpSlideListDiv").is(":visible")?g("close"):g("open")}),$("#cpListOpenCloseWrap").hasClass("initClose")&&g("close"),$("#cpListOpenCloseWrap").hasClass("initOpen")&&g("open")}$("#announceBarClose").on("click",function(){$("#announceBar").hide(),$.cookies.set("announceBar","hidden")});var b=$.cookies.get("announceBar");null==b||""===b?($.cookies.set("announceBar","shown"),$.cookies.setOptions({expiresAt:null})):("shown"===b&&($("#announceBar").show(),$.cookies.set("announceBar","shown")),"hidden"===b&&$("#announceBar").hide()),0<$("#eeColorChartHelpButton").length&&$("#eeColorChartHelpButton").click(function(e){e.preventDefault();var a=$($(this).attr("data-helpContent")).html();e.stopImmediatePropagation(),fhsAlert("myModal","Emotional Engagement Scale ",a,"","CLOSE",function(e){})}),$(document).on("click",".getMySelectionToPDF",function(e){var a=$(this).attr("href");if(0<$(".mySelectionTable input.mySelectionChkBx:checked:enabled").length){if(3===$("#cpOverallMy .barGraphChart").length)a+="&label5="+$("#cpBarchart7").attr("data-label").replace(/ /g,"").replace(/&/g," %26 ")+"&data5="+$("#cpBarchart7").attr("data-data").replace(/ /g,"").replace(/N\/A/g,"null")+"&label6="+$("#cpBarchart8").attr("data-label").replace(/ /g,"").replace(/&/g," %26 ")+"&data6="+$("#cpBarchart8").attr("data-data").replace(/ /g,"").replace(/N\/A/g,"null")+"&label7="+$("#cpBarchart9").attr("data-label").replace(/ /g,"").replace(/&/g," %26 ")+"&data7="+$("#cpBarchart9").attr("data-data").replace(/ /g,"").replace(/N\/A/g,"null");if(2===$("#cpOverallMy .barGraphChart").length)a+="&label5="+$("#cpBarchart5").attr("data-label").replace(/ /g,"").replace(/&/g," %26 ")+"&data5="+$("#cpBarchart5").attr("data-data").replace(/ /g,"").replace(/N\/A/g,"null")+"&label6="+$("#cpBarchart6").attr("data-label").replace(/ /g,"").replace(/&/g," %26 ")+"&data6="+$("#cpBarchart6").attr("data-data").replace(/ /g,"").replace(/N\/A/g,"null");if(1===$("#cpOverallMy .barGraphChart").length)a+="&label5="+$("#cpBarchart3").attr("data-label").replace(/ /g,"").replace(/&/g," %26 ")+"&data5="+$("#cpBarchart3").attr("data-data").replace(/ /g,"").replace(/N\/A/g,"null")}return window.location=a,!1}),0<$(".iframe").length&&$(".iframe").colorbox({iframe:!0,width:"700px;",height:"700px"})});