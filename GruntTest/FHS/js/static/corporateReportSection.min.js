$(document).ready(function(){var u="";0<$(".cpOverallSER").length&&(u=$(".cpOverallSER").dataTable({sPaginationType:"full_numbers",aoColumnDefs:[{bSortable:!1,aTargets:[0]}],aoColumns:[null,null,null,null,{sType:"percent"},null,{sType:"percent"},null],aaSorting:[[5,"asc"]],bPaginate:!1,iDisplayLength:1e7})),0<$(".cpOverallRatings").length&&(u=$(".cpOverallRatings").dataTable({sPaginationType:"full_numbers",aoColumnDefs:[{bSortable:!1,aTargets:[0]}],aoColumns:[null,null,null,{sType:"percent"},{sType:"percent"},{sType:"percent"},{sType:"Rating"},{sType:"Rating"}],aaSorting:[[5,"desc"]],bPaginate:!1,iDisplayLength:1e7})),0<$(".cpOverallBrandSER").length&&(u=$(".cpOverallBrandSER").dataTable({sPaginationType:"full_numbers",aoColumnDefs:[{bSortable:!1,aTargets:[0]}],aoColumns:[null,null,null,null,{sType:"percent"},null],aaSorting:[[5,"asc"]],bPaginate:!1,iDisplayLength:1e7})),0<$(".cpOverallEE").length&&(u=$(".cpOverallEE").dataTable({sPaginationType:"full_numbers",aoColumnDefs:[{bSortable:!1,aTargets:[0]}],aoColumns:[null,null,null,null,{sType:"percent"},null],aaSorting:[[5,"asc"]],bPaginate:!1,iDisplayLength:1e7})),0<$(".cpSectionSER").length&&(u=$(".cpSectionSER").dataTable({sPaginationType:"full_numbers",aoColumnDefs:[{bSortable:!1,aTargets:[0]}],aoColumns:[null,null,null,null,{sType:"percent"},null,{sType:"percent"},null],aaSorting:[[5,"asc"]],bPaginate:!1,iDisplayLength:1e7})),0<$(".cpSectionRatings").length&&(u=$(".cpSectionRatings").dataTable({sPaginationType:"full_numbers",aoColumnDefs:[{bSortable:!1,aTargets:[0]}],aoColumns:[null,null,null,{sType:"percent"},null,{sType:"percent"},null],aaSorting:[[4,"asc"]],bPaginate:!1,iDisplayLength:1e7})),0<$(".cpSectionBrandSER").length&&(u=$(".cpSectionBrandSER").dataTable({sPaginationType:"full_numbers",aoColumnDefs:[{bSortable:!1,aTargets:[0]}],aoColumns:[null,null,null,null,{sType:"percent"},null],aaSorting:[[5,"asc"]],bPaginate:!1,iDisplayLength:1e7})),0<$(".cpSectionEE").length&&(u=$(".cpSectionEE").dataTable({sPaginationType:"full_numbers",aoColumnDefs:[{bSortable:!1,aTargets:[0]}],aoColumns:[null,null,null,null,{sType:"percent"},null],aaSorting:[[5,"asc"]],bPaginate:!1,iDisplayLength:1e7}));var a=function(e){for(var a="",n=e.fnGetNodes(),l=0;l<n.length;l++){var t=$(n[l]).find("input:checkbox");t.prop("checked")&&(a+=t.attr("data-id")+",")}a=a.slice(0,-1),$("#cpSelectSection #mySelectedIds").val(a),$("#cpSelectSection #mySelectedIds").attr("value",a)},g=function(e){for(var a=0,n=e.fnGetNodes(),l=0;l<n.length;l++)$(n[l]).find("input:checkbox").prop("checked")&&++a;return a},n=function(e){var a=g(e);0<a?($(".btnClearMySelection").removeClass("disabled"),$("#mySelCt").html(" ("+a+")")):($(".btnClearMySelection").addClass("disabled"),$("#mySelCt").html(""))};n(u);var l=function(){$("#cpOverallMy .corpBarchart").each(function(e){var a=JSON.parse($("#cpOverallHigh > .corpBarchart:eq(0)").attr("data-data"))[0],n=JSON.parse($("#cpOverallHigh > .corpBarchart:eq(0)").attr("data-label"))[0],l=a+",",t='"'+n+'",',i=e+1,r=g(u),c=[];if(0<r){var o=u.fnGetNodes();for(e=0;e<o.length;e++)if($thisCkbx=$(o[e]).find("input:checkbox"),$thisCkbx.prop("checked")){var s,p=" ";p=""===$thisCkbx.parent().parent().find(".chartData"+i).text()?" ":$thisCkbx.parent().parent().find(".chartData"+i).text().replace("%",""),s=$thisCkbx.parent().parent().find(".chartDataTxt").text(),c.push({val:p,txt:s})}c.sort(function(e,a){return e.val-a.val}),$.each(c,function(e,a){l+='"'+a.val+'",',t+='"'+a.txt+'",'})}if(r<maxMySelection)for(e=0;e<maxMySelection-r;e++)l+="0,",t+='" ",';l="["+l.slice(0,-1)+"]",t="["+t.slice(0,-1)+"]",$(this).attr("data-data",l),$(this).attr("data-label",t)})};$(".mySelectionTable .mySelectionChkBx").on("click",function(){if(!$("#cpOverallMy").is(":visible")){$("#mySelectionRadioBtn").trigger("click");var e=$("#cpHighLowBttn input[name=cpGroup]:checked").val();$(".cpTab").hide(),$("#"+e).show()}$(this).prop("checked")&&$(".mySelectionTable input.mySelectionChkBx:checked:enabled").length>maxMySelection?$(this).prop("checked",!1):(a(u),n(u),l(),$(window).trigger("resize"))}),a(u),n(u),l(),$(window).trigger("resize"),$(".tableFilterWrap select").on("change",function(){var e,a,n=$(this).val(),l=$(this).attr("data-filterColumn");a=l,(e=n)?u.fnFilter(e,a):(u.fnFilter("",a),u.fnFilter(""))}),$(".btnGraphMySelection").on("click",function(){$("#cpHighLowBttn #mySelectionRadioBtn").prop("checked",!0).trigger("click")}),$(".btnClearMySelection").on("click",function(){!function(e){for(var a=e.fnGetNodes(),n=0;n<a.length;n++)$(a[n]).find("input:checkbox").prop("checked","");$("#mySelCt").html(""),l(),$(window).trigger("resize")}(u),n(u),$("#cpHighLowBttn #mySelectionRadioBtn").prop("checked",!0).trigger("click")})});